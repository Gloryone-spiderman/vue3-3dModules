{"remainingRequest":"D:\\zhou\\Documents\\github\\threeMachineRoom\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhou\\Documents\\github\\threeMachineRoom\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zhou\\Documents\\github\\threeMachineRoom\\src\\views\\index.vue","mtime":1675735737240},{"path":"D:\\zhou\\Documents\\github\\threeMachineRoom\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1625723463414},{"path":"D:\\zhou\\Documents\\github\\threeMachineRoom\\node_modules\\babel-loader\\lib\\index.js","mtime":1619073890059},{"path":"D:\\zhou\\Documents\\github\\threeMachineRoom\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1625723463414},{"path":"D:\\zhou\\Documents\\github\\threeMachineRoom\\node_modules\\vue-loader\\lib\\index.js","mtime":1625710870128}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport ThreeMap from './ThreeMap.js';\r\n// import {ThreeData} from './ThreeData.js'\r\nimport {ThreeData} from './sceneData2.js'\r\n\r\nexport default {\r\n    name: 'index',\r\n    created () {\r\n        for (var i = 0; i <3;i++){\r\n            for (var j = 0; j <6; j++) {\r\n                for(let k=0;k<this.baseInfo.length;k++){\r\n                    let obj=JSON.parse(JSON.stringify(this.baseInfo[k]));\r\n                    obj.devid=this.baseInfo[k].devid+i+j;\r\n                    obj.pointid=this.baseInfo[k].pointid+i+j;\r\n                    obj.name=\"JG-\"+(i+1)+\"-\"+(j+1)+\"-设备\"+(k+1);\r\n                    obj.id=obj.devid+obj.pointid;\r\n                    this.equipment.push(obj);\r\n                    this.alarm.push(\"1\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        let props={domID:\"three-dom\"}\r\n        this.map = new ThreeMap(props,ThreeData);\r\n        this.map.init();\r\n    },\r\n    data(){\r\n        return{\r\n            map:null,\r\n            dialogVisible:false,\r\n            baseInfo:[\r\n                {devid:\"01\",pointid:\"0101\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false},\r\n                {devid:\"01\",pointid:\"0102\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false},\r\n                {devid:\"01\",pointid:\"0103\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false},\r\n                {devid:\"01\",pointid:\"0104\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false}\r\n            ],\r\n            alarmInfo:[\r\n                {id:\"1\",name:\"提示\"},{id:\"2\",name:\"次要\"},{id:\"3\",name:\"重要\"},{id:\"4\",name:\"严重\"},{id:\"5\",name:\"紧急\"},\r\n            ],\r\n            equipment:[], //所有设备\r\n            alarm:[],  //所有告警初始化为提示\r\n            equipmentList:[],  //告警的\r\n            equipmentList1:[],  //解除告警的\r\n        }\r\n    },\r\n    methods: {\r\n        set:function(){\r\n            this.equipmentList=[],  //告警的\r\n            this.equipmentList1=[],  //解除告警的\r\n            this.dialogVisible=true;\r\n        },\r\n        sure:function(){\r\n            let back=[];\r\n            for(let i=0;i<this.equipment.length;i++){\r\n                for(let j=0;j<this.equipmentList.length;j++){\r\n                    if(this.equipmentList[j]==this.equipment[i].id){\r\n                        let obj=JSON.parse(JSON.stringify(this.equipment[i]));\r\n                        obj.isalarm=true;\r\n                        obj.level=this.alarm[i];\r\n                        obj.alarmInfo=\"测试\";\r\n                        back.push(obj);\r\n                    }\r\n                }\r\n                for(let m=0;m<this.equipmentList1.length;m++){\r\n                    if(this.equipmentList1[m]==this.equipment[i].id){\r\n                        back.push(this.equipment[i]);\r\n                    }\r\n                }\r\n            }\r\n            console.log(back)\r\n            this.map.updateAlarmStatus(back);\r\n            this.dialogVisible = false\r\n        }\r\n    },\r\n    components: {\r\n\r\n    }\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"three-content\" id=\"three-dom\">\r\n        <el-button type=\"primary\" @click=\"set\" style=\"position:absolute;top:20px;right:20px;\">模拟告警设置</el-button>\r\n        <el-dialog\r\n            top=\"0vh\"\r\n            :center=\"true\"\r\n            title=\"告警设置\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"1450px\">\r\n            <div>\r\n                <h3>触发告警设置</h3>\r\n                <div>\r\n                    <el-checkbox-group v-model=\"equipmentList\">\r\n                        <template v-for=\"(e,i) in equipment\" style=\"margin-bottom:10px;\">\r\n                            <el-checkbox :label=\"e.id\" :key=\"e.id\">{{e.name}}</el-checkbox>\r\n                            <el-select v-model=\"alarm[i]\" placeholder=\"请选择\"\r\n                                style=\"width:75px;margin-right:10px;margin-bottom:3px;\"\r\n                                 size=\"mini\">\r\n                                <el-option\r\n                                v-for=\"item in alarmInfo\"\r\n                                :key=\"item.id\"\r\n                                :label=\"item.name\"\r\n                                :value=\"item.id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </template>\r\n                    </el-checkbox-group>\r\n                </div>\r\n                <h3>解除告警设置</h3>\r\n                <div>\r\n                    <el-checkbox-group v-model=\"equipmentList1\">\r\n                        <template v-for=\"(e,i) in equipment\">\r\n                            <el-checkbox :label=\"e.id\" :key=\"e.id\" style=\"margin-bottom:5px;\">{{e.name}}</el-checkbox>\r\n                        </template>\r\n                    </el-checkbox-group>\r\n                </div>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"sure\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ThreeMap from './ThreeMap.js';\r\n// import {ThreeData} from './ThreeData.js'\r\nimport {ThreeData} from './sceneData2.js'\r\n\r\nexport default {\r\n    name: 'index',\r\n    created () {\r\n        for (var i = 0; i <3;i++){\r\n            for (var j = 0; j <6; j++) {\r\n                for(let k=0;k<this.baseInfo.length;k++){\r\n                    let obj=JSON.parse(JSON.stringify(this.baseInfo[k]));\r\n                    obj.devid=this.baseInfo[k].devid+i+j;\r\n                    obj.pointid=this.baseInfo[k].pointid+i+j;\r\n                    obj.name=\"JG-\"+(i+1)+\"-\"+(j+1)+\"-设备\"+(k+1);\r\n                    obj.id=obj.devid+obj.pointid;\r\n                    this.equipment.push(obj);\r\n                    this.alarm.push(\"1\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        let props={domID:\"three-dom\"}\r\n        this.map = new ThreeMap(props,ThreeData);\r\n        this.map.init();\r\n    },\r\n    data(){\r\n        return{\r\n            map:null,\r\n            dialogVisible:false,\r\n            baseInfo:[\r\n                {devid:\"01\",pointid:\"0101\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false},\r\n                {devid:\"01\",pointid:\"0102\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false},\r\n                {devid:\"01\",pointid:\"0103\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false},\r\n                {devid:\"01\",pointid:\"0104\",name:\"\",level:\"1\",id:\"\",alarmInfo:\"\",isalarm:false}\r\n            ],\r\n            alarmInfo:[\r\n                {id:\"1\",name:\"提示\"},{id:\"2\",name:\"次要\"},{id:\"3\",name:\"重要\"},{id:\"4\",name:\"严重\"},{id:\"5\",name:\"紧急\"},\r\n            ],\r\n            equipment:[], //所有设备\r\n            alarm:[],  //所有告警初始化为提示\r\n            equipmentList:[],  //告警的\r\n            equipmentList1:[],  //解除告警的\r\n        }\r\n    },\r\n    methods: {\r\n        set:function(){\r\n            this.equipmentList=[],  //告警的\r\n            this.equipmentList1=[],  //解除告警的\r\n            this.dialogVisible=true;\r\n        },\r\n        sure:function(){\r\n            let back=[];\r\n            for(let i=0;i<this.equipment.length;i++){\r\n                for(let j=0;j<this.equipmentList.length;j++){\r\n                    if(this.equipmentList[j]==this.equipment[i].id){\r\n                        let obj=JSON.parse(JSON.stringify(this.equipment[i]));\r\n                        obj.isalarm=true;\r\n                        obj.level=this.alarm[i];\r\n                        obj.alarmInfo=\"测试\";\r\n                        back.push(obj);\r\n                    }\r\n                }\r\n                for(let m=0;m<this.equipmentList1.length;m++){\r\n                    if(this.equipmentList1[m]==this.equipment[i].id){\r\n                        back.push(this.equipment[i]);\r\n                    }\r\n                }\r\n            }\r\n            console.log(back)\r\n            this.map.updateAlarmStatus(back);\r\n            this.dialogVisible = false\r\n        }\r\n    },\r\n    components: {\r\n\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n"]}]}